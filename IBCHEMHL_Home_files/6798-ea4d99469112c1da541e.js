(self.webpackChunkkognity=self.webpackChunkkognity||[]).push([[6798],{"4DrC":function(t,e,r){var i;i=t=>{var e,r,i;return e={792:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=e},562:t=>{var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 0xff00ff&r.rotl(t,8)|0xff00ff00&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];0<t;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,i=0;r<t.length;r++,i+=8)e[i>>>5]|=t[r]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],i=0;i<t.length;i+=3)for(var s=t[i]<<16|t[i+1]<<8|t[i+2],n=0;n<4;n++)8*i+6*n<=8*t.length?r.push(e.charAt(s>>>6*(3-n)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],i=0,s=0;i<t.length;s=++i%4)0!=s&&r.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<2*s|e.indexOf(t.charAt(i))>>>6-2*s);return r}};t.exports=r},359:function(t,e){var r,i,s,n,o,a,u,h,l,c,p;function f(){}t.exports=(r=Math,i=Object.create||function(t){return f.prototype=t,t=new f,f.prototype=null,t},n=(s=(t={}).lib={}).Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=s.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,i=this.sigBytes,s=t.sigBytes;if(this.clamp(),i%4)for(var n=0;n<s;n++){var o=r[n>>>2]>>>24-n%4*8&255;e[i+n>>>2]|=o<<24-(i+n)%4*8}else for(n=0;n<s;n+=4)e[i+n>>>2]=r[n>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=0xffffffff<<32-e%4*8,t.length=r.ceil(e/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4){var s=function(t){var e=0x3ade68b1;return function(){return((((e=36969*(65535&e)+(e>>16)&0xffffffff)<<16)+(t=18e3*(65535&t)+(t>>16)&0xffffffff)&0xffffffff)/0x100000000+.5)*(.5<r.random()?1:-1)}}(0x100000000*(n||r.random())),n=0x3ade67b7*s();e.push(0x100000000*s()|0)}return new o.init(e,t)}}),u=(a=t.enc={}).Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],s=0;s<r;s++){var n=e[s>>>2]>>>24-s%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i+=2)r[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new o.init(r,e/2)}},h=a.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],s=0;s<r;s++){var n=e[s>>>2]>>>24-s%4*8&255;i.push(String.fromCharCode(n))}return i.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new o.init(r,e)}},l=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},c=s.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,i=e.words,s=e.sigBytes,n=this.blockSize,a=s/(4*n),u=(a=t?r.ceil(a):r.max((0|a)-this._minBufferSize,0))*n;if(t=r.min(4*u,s),u){for(var h=0;h<u;h+=n)this._doProcessBlock(i,h);var l=i.splice(0,u);e.sigBytes-=t}return new o.init(l,t)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),s.Hasher=c.extend({cfg:n.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new p.HMAC.init(t,r).finalize(e)}}}),p=t.algo={},t)},93:function(t,e,r){t.exports=function(t){var e=Math,r=(s=t.lib).WordArray,i=s.Hasher,s=t.algo,n=[],o=[];function a(t){return 0x100000000*(t-(0|t))|0}for(var u=2,h=0;h<64;)!function(t){for(var r=e.sqrt(t),i=2;i<=r;i++)if(!(t%i))return;return 1}(u)||(h<8&&(n[h]=a(e.pow(u,.5))),o[h]=a(e.pow(u,1/3)),h++),u++;var l=[];return s=s.SHA256=i.extend({_doReset:function(){this._hash=new r.init(n.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],s=r[1],n=r[2],a=r[3],u=r[4],h=r[5],c=r[6],p=r[7],f=0;f<64;f++){f<16?l[f]=0|t[e+f]:(d=l[f-15],g=l[f-2],l[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+l[f-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+l[f-16]);var d=i&s^i&n^s&n,g=p+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&h^~u&c)+o[f]+l[f];p=c,c=h,h=u,u=a+g|0,a=n,n=s,s=i,i=g+(((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+d)|0}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+n|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0,r[5]=r[5]+h|0,r[6]=r[6]+c|0,r[7]=r[7]+p|0},_doFinalize:function(){var t=this._data,r=t.words,i=8*this._nDataBytes,s=8*t.sigBytes;return r[s>>>5]|=128<<24-s%32,r[14+(64+s>>>9<<4)]=e.floor(i/0x100000000),r[15+(64+s>>>9<<4)]=i,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),t.SHA256=i._createHelper(s),t.HmacSHA256=i._createHmacHelper(s),t.SHA256}(r(359))},335:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))||!!t._isBuffer)}},345:function(t,e){!function(t){"use strict";function e(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function r(t,e){return t&e}function i(t,e){return t|e}function s(t,e){return t^e}function n(t,e){return t&~e}p.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);if(16==t)r=4;else if(8==t)r=3;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return this.toRadix(t);r=2}var r,i,s=(1<<r)-1,n=!1,o="",a=this.t,u=this.DB-a*this.DB%r;if(0<a--)for(u<this.DB&&0<(i=this[a]>>u)&&(n=!0,o=e(i));0<=a;)u<r?i=(this[a]&(1<<u)-1)<<r-u|this[--a]>>(u+=this.DB-r):(i=this[a]>>(u-=r)&s,u<=0&&(u+=this.DB,--a)),(n=0<i||n)&&(o+=e(i));return n?o:"0"},p.prototype.negate=function(){var t=f();return p.ZERO.subTo(this,t),t},p.prototype.abs=function(){return this.s<0?this.negate():this},p.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;0<=--r;)if(0!=(e=this[r]-t[r]))return e;return 0},p.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+b(this[this.t-1]^this.s&this.DM)},p.prototype.mod=function(t){var e=f();return this.abs().divRemTo(t,null,e),this.s<0&&0<e.compareTo(p.ZERO)&&t.subTo(e,e),e},p.prototype.modPowInt=function(t,e){return e=new(t<256||e.isEven()?a:u)(e),this.exp(t,e)},p.prototype.clone=function(){var t=f();return this.copyTo(t),t},p.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return -1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},p.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},p.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},p.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},p.prototype.equals=function(t){return 0==this.compareTo(t)},p.prototype.min=function(t){return 0>this.compareTo(t)?this:t},p.prototype.max=function(t){return 0<this.compareTo(t)?this:t},p.prototype.and=function(t){var e=f();return this.bitwiseTo(t,r,e),e},p.prototype.or=function(t){var e=f();return this.bitwiseTo(t,i,e),e},p.prototype.xor=function(t){var e=f();return this.bitwiseTo(t,s,e),e},p.prototype.shiftLeft=function(t){var e=f();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},p.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=function(t){for(var e=0;0!=t;)t&=t-1,++e;return e}(this[r]^e);return t},p.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},p.prototype.setBit=function(t){return this.changeBit(t,i)},p.prototype.clearBit=function(t){return this.changeBit(t,n)},p.prototype.flipBit=function(t){return this.changeBit(t,s)},p.prototype.subtract=function(t){var e=f();return this.subTo(t,e),e},p.prototype.multiply=function(t){var e=f();return this.multiplyTo(t,e),e},p.prototype.divide=function(t){var e=f();return this.divRemTo(t,e,null),e},p.prototype.remainder=function(t){var e=f();return this.divRemTo(t,null,e),e},p.prototype.divideAndRemainder=function(t){var e=f(),r=f();return this.divRemTo(t,e,r),[e,r]},p.prototype.pow=function(t){return this.exp(t,new o)},p.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s},p.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},p.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,s=!1,n=0;0<=--i;){var o=8==r?255&+t[i]:y(t,i);o<0?"-"==t.charAt(i)&&(s=!0):(s=!1,0==n?this[this.t++]=o:n+r>this.DB?(this[this.t-1]|=(o&(1<<this.DB-n)-1)<<n,this[this.t++]=o>>this.DB-n):this[this.t-1]|=o<<n,(n+=r)>=this.DB&&(n-=this.DB))}8==r&&0!=(128&+t[0])&&(this.s=-1,0<n&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),s&&p.ZERO.subTo(this,this)},p.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t},p.prototype.dlShiftTo=function(t,e){for(var r=this.t-1;0<=r;--r)e[r+t]=this[r];for(r=t-1;0<=r;--r)e[r]=0;e.t=this.t+t,e.s=this.s},p.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},p.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,i=this.DB-r,s=(1<<i)-1,n=Math.floor(t/this.DB),o=this.s<<r&this.DM,a=this.t-1;0<=a;--a)e[a+n+1]=this[a]>>i|o,o=(this[a]&s)<<r;for(a=n-1;0<=a;--a)e[a]=0;e[n]=o,e.t=this.t+n+1,e.s=this.s,e.clamp()},p.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var i=t%this.DB,s=this.DB-i,n=(1<<i)-1;e[0]=this[r]>>i;for(var o=r+1;o<this.t;++o)e[o-r-1]|=(this[o]&n)<<s,e[o-r]=this[o]>>i;0<i&&(e[this.t-r-1]|=(this.s&n)<<s),e.t=this.t-r,e.clamp()}},p.prototype.subTo=function(t,e){for(var r=0,i=0,s=Math.min(t.t,this.t);r<s;)i+=this[r]-t[r],e[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;r<this.t;)i+=this[r],e[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i-=t[r],e[r++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[r++]=this.DV+i:0<i&&(e[r++]=i),e.t=r,e.clamp()},p.prototype.multiplyTo=function(t,e){var r=this.abs(),i=t.abs(),s=r.t;for(e.t=s+i.t;0<=--s;)e[s]=0;for(s=0;s<i.t;++s)e[s+r.t]=r.am(0,i[s],e,s,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&p.ZERO.subTo(e,e)},p.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;0<=--r;)t[r]=0;for(r=0;r<e.t-1;++r){var i=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,i,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},p.prototype.divRemTo=function(t,e,r){if(!((h=t.abs()).t<=0)){var i=this.abs();if(i.t<h.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=f());var s=f(),n=this.s,o=(t=t.s,this.DB-b(h[h.t-1])),a=(0<o?(h.lShiftTo(o,s),i.lShiftTo(o,r)):(h.copyTo(s),i.copyTo(r)),s.t),u=s[a-1];if(0!=u){var h=u*(1<<this.F1)+(1<a?s[a-2]>>this.F2:0),l=this.FV/h,c=(1<<this.F1)/h,d=1<<this.F2,g=r.t,m=g-a,y=null==e?f():e;for(s.dlShiftTo(m,y),0<=r.compareTo(y)&&(r[r.t++]=1,r.subTo(y,r)),p.ONE.dlShiftTo(a,y),y.subTo(s,s);s.t<a;)s[s.t++]=0;for(;0<=--m;){var v=r[--g]==u?this.DM:Math.floor(r[g]*l+(r[g-1]+d)*c);if((r[g]+=s.am(0,v,r,m,0,a))<v)for(s.dlShiftTo(m,y),r.subTo(y,r);r[g]<--v;)r.subTo(y,r)}null!=e&&(r.drShiftTo(a,e),n!=t&&p.ZERO.subTo(e,e)),r.t=a,r.clamp(),0<o&&r.rShiftTo(o,r),n<0&&p.ZERO.subTo(r,r)}}},p.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},p.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},p.prototype.exp=function(t,e){if(0xffffffff<t||t<1)return p.ONE;var r,i=f(),s=f(),n=e.convert(this),o=b(t)-1;for(n.copyTo(i);0<=--o;)e.sqrTo(i,s),0<(t&1<<o)?e.mulTo(s,n,i):(r=i,i=s,s=r);return e.revert(i)},p.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},p.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||36<t)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=v(r),s=f(),n=f(),o="";for(this.divRemTo(i,s,n);0<s.signum();)o=(r+n.intValue()).toString(t).substr(1)+o,s.divRemTo(i,s,n);return n.intValue().toString(t)+o},p.prototype.fromRadix=function(t,e){this.fromInt(0);for(var r=this.chunkSize(e=null==e?10:e),i=Math.pow(e,r),s=!1,n=0,o=0,a=0;a<t.length;++a){var u=y(t,a);u<0?"-"==t.charAt(a)&&0==this.signum()&&(s=!0):(o=e*o+u,++n>=r&&(this.dMultiply(i),this.dAddOffset(o,0),o=n=0))}0<n&&(this.dMultiply(Math.pow(e,n)),this.dAddOffset(o,0)),s&&p.ZERO.subTo(this,this)},p.prototype.bitwiseTo=function(t,e,r){for(var i,s=Math.min(t.t,this.t),n=0;n<s;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},p.prototype.changeBit=function(t,e){return t=p.ONE.shiftLeft(t),this.bitwiseTo(t,e,t),t},p.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},p.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},p.prototype.multiplyLowerTo=function(t,e,r){var i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;0<i;)r[--i]=0;for(var s=r.t-this.t;i<s;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(s=Math.min(t.t,e);i<s;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},p.prototype.multiplyUpperTo=function(t,e,r){var i=r.t=this.t+t.t- --e;for(r.s=0;0<=--i;)r[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)r[this.t+i-e]=this.am(e-i,t[i],r,0,0,this.t+i-e);r.clamp(),r.drShiftTo(1,r)},p.prototype.square=function(){var t=f();return this.squareTo(t),t};var o=(c.prototype.convert=function(t){return t},c.prototype.revert=function(t){return t},c.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},c.prototype.sqrTo=function(t,e){t.squareTo(e)},c),a=(l.prototype.convert=function(t){return t.s<0||0<=t.compareTo(this.m)?t.mod(this.m):t},l.prototype.revert=function(t){return t},l.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},l.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},l.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},l),u=(h.prototype.convert=function(t){var e=f();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&0<e.compareTo(p.ZERO)&&this.m.subTo(e,e),e},h.prototype.revert=function(t){var e=f();return t.copyTo(e),this.reduce(e),e},h.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],i=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,i,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)},h.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},h.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},h);function h(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function l(t){this.m=t}function c(){}function p(t,e,r){null!=t&&"number"!=typeof t&&(null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function f(){return new p(null)}w="Microsoft Internet Explorer"==navigator.appName?(p.prototype.am=function(t,e,r,i,s,n){for(var o=32767&e,a=e>>15;0<=--n;){var u=32767&this[t],h=this[t++]>>15,l=a*u+h*o;s=((u=o*u+((32767&l)<<15)+r[i]+(0x3fffffff&s))>>>30)+(l>>>15)+a*h+(s>>>30),r[i++]=0x3fffffff&u}return s},30):"Netscape"!=navigator.appName?(p.prototype.am=function(t,e,r,i,s,n){for(;0<=--n;){var o=e*this[t++]+r[i]+s;s=Math.floor(o/0x4000000),r[i++]=0x3ffffff&o}return s},26):(p.prototype.am=function(t,e,r,i,s,n){for(var o=16383&e,a=e>>14;0<=--n;){var u=16383&this[t],h=this[t++]>>14,l=a*u+h*o;s=((u=o*u+((16383&l)<<14)+r[i]+s)>>28)+(l>>14)+a*h,r[i++]=0xfffffff&u}return s},28),p.prototype.DB=w,p.prototype.DM=(1<<w)-1,p.prototype.DV=1<<w,p.prototype.FV=0x10000000000000,p.prototype.F1=52-w,p.prototype.F2=2*w-52;for(var d=[],g=48,m=0;m<=9;++m)d[g++]=m;for(g=97,m=10;m<36;++m)d[g++]=m;for(g=65,m=10;m<36;++m)d[g++]=m;function y(t,e){return null==(t=d[t.charCodeAt(e)])?-1:t}function v(t){var e=f();return e.fromInt(t),e}function b(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}p.ZERO=v(0),p.ONE=v(1),x.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},x.prototype.setPublic=function(t,e){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=new p(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},x.prototype.verify=function(t,e,r){return e=new p(e,16),null==(e=this.doPublic(e))?null:function(t){for(var e in _)if(_.hasOwnProperty(e)){var r=(e=_[e]).length;if(t.substr(0,r)==e)return t.substr(r)}return t}(e.toString(16).replace(/^1f+00/,""))==r(t).toString()};var _={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function x(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}S.prototype.verify=function(t,r,i){try{return this.getKey().verify(t,function(t){for(var r="",i=0,s=0,n=0;n<t.length&&"="!=t.charAt(n);++n){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(n));o<0||(i=0==i?(r+=e(o>>2),s=3&o,1):1==i?(r+=e(s<<2|o>>4),s=15&o,2):2==i?(r=(r+=e(s))+e(o>>2),s=3&o,3):(r=(r+=e(s<<2|o>>4))+e(15&o),0))}return 1==i&&(r+=e(s<<2)),r}(r),i)}catch(t){return!1}},S.prototype.getKey=function(t){return this.key||(this.key=new x),this.key},S.version="3.0.0-rc.1";var w=S;function S(t){this.key=null}t.JSEncrypt=w,t.default=w,Object.defineProperty(t,"__esModule",{value:!0})}(e)},857:(t,e,r)=>{r=r(772).Symbol,t.exports=r},366:(t,e,r)=>{var i=r(857),s=r(107),n=r(157),o=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(o&&o in Object(t)?s:n)(t)}},704:(t,e,r)=>{var i=r(153),s=/^\s+/;t.exports=function(t){return t&&t.slice(0,i(t)+1).replace(s,"")}},242:t=>{var e="object"==typeof window&&window&&window.Object===Object&&window;t.exports=e},107:(t,e,r)=>{r=r(857);var i=Object.prototype,s=i.hasOwnProperty,n=i.toString,o=r?r.toStringTag:void 0;t.exports=function(t){var e=s.call(t,o),r=t[o];try{var i=(t[o]=void 0,!0)}catch(t){}var a=n.call(t);return i&&(e?t[o]=r:delete t[o]),a}},157:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},772:(t,e,r)=>{r=r(242);var i="object"==typeof self&&self&&self.Object===Object&&self;r=r||i||Function("return this")(),t.exports=r},153:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},73:(t,e,r)=>{var i=r(259),s=r(100),n=r(642),o=Math.max,a=Math.min;t.exports=function(t,e,r){var u,h,l,c,p,f,d=0,g=!1,m=!1,y=!0;if("function"!=typeof t)throw TypeError("Expected a function");function v(e){var r=u,i=h;return u=h=void 0,d=e,c=t.apply(i,r)}function b(t){var r=t-f;return void 0===f||e<=r||r<0||m&&l<=t-d}function _(){var t,r=s();if(b(r))return x(r);p=setTimeout(_,(t=e-(r-f),m?a(t,l-(r-d)):t))}function x(t){return p=void 0,y&&u?v(t):(u=h=void 0,c)}function w(){var t=s(),r=b(t);if(u=arguments,h=this,f=t,r){if(void 0===p)return d=t=f,p=setTimeout(_,e),g?v(t):c;if(m)return clearTimeout(p),p=setTimeout(_,e),v(f)}return void 0===p&&(p=setTimeout(_,e)),c}return e=n(e)||0,i(r)&&(g=!!r.leading,l=(m="maxWait"in r)?o(n(r.maxWait)||0,e):l,y="trailing"in r?!!r.trailing:y),w.cancel=function(){void 0!==p&&clearTimeout(p),u=f=h=p=void(d=0)},w.flush=function(){return void 0===p?c:x(s())},w}},259:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},125:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},795:(t,e,r)=>{var i=r(366),s=r(125);t.exports=function(t){return"symbol"==typeof t||s(t)&&"[object Symbol]"==i(t)}},100:(t,e,r)=>{var i=r(772);t.exports=function(){return i.Date.now()}},642:(t,e,r)=>{var i=r(704),s=r(259),n=r(795),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(n(t))return NaN;if(s(t)&&(t=s(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=i(t);var e=a.test(t);return e||u.test(t)?h(t.slice(2),e?2:8):o.test(t)?NaN:+t}},737:function(t,e){var r;void 0!==(e="function"==typeof(r=function(){var t,e,r="lscache-",i="-cacheexpiration",s=6e4,n=b(6e4),o="",a=!1;function u(){var e="__lscachetest__";if(void 0!==t)return t;try{if(!localStorage)return!1}catch(t){return!1}try{f(e,"__lscachetest__"),d(e),t=!0}catch(e){t=!(!h(e)||!localStorage.length)}return t}function h(t){return t&&("QUOTA_EXCEEDED_ERR"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name||"QuotaExceededError"===t.name)}function l(){return e=void 0===e?null!=window.JSON:e}function c(){return Math.floor((new Date).getTime()/s)}function p(t){return localStorage.getItem(r+o+t)}function f(t,e){localStorage.removeItem(r+o+t),localStorage.setItem(r+o+t,e)}function d(t){localStorage.removeItem(r+o+t)}function g(t){for(var e,s=RegExp("^"+r+o.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),n=[],a=0;a<localStorage.length;a++)(e=(e=(e=localStorage.key(a))&&e.match(s))&&e[1])&&0>e.indexOf(i)&&n.push(e);for(a=0;a<n.length;a++)t(n[a],n[a]+i)}function m(t){d(t),d(t+i)}function y(t){var e=t+i,r=p(e);return r&&(r=parseInt(r,10),c()>=r&&(d(t),d(e),1))}function v(t,e){a&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+t),e&&window.console.warn("lscache - The error was: "+e.message))}function b(t){return Math.floor(864e13/t)}return{set:function(t,e,r){if(!u()||!l())return!1;try{e=JSON.stringify(e)}catch(t){return!1}try{f(t,e)}catch(r){if(!h(r))return v("Could not add item with key '"+t+"'",r),!1;for(var s,o=[],a=(g(function(t,e){e=(e=p(e))?parseInt(e,10):n,o.push({key:t,size:(p(t)||"").length,expiration:e})}),o.sort(function(t,e){return e.expiration-t.expiration}),(e||"").length);o.length&&0<a;)v("Cache is full, removing item with key '"+(s=o.pop()).key+"'"),m(s.key),a-=s.size;try{f(t,e)}catch(e){return v("Could not add item with key '"+t+"', perhaps it's too big?",e),!1}}return r?f(t+i,(c()+r).toString(10)):d(t+i),!0},get:function(t){if(!u()||y(t))return null;if(!(t=p(t))||!l())return t;try{return JSON.parse(t)}catch(e){return t}},remove:function(t){u()&&m(t)},supported:u,flush:function(){u()&&g(function(t){m(t)})},flushExpired:function(){u()&&g(function(t){y(t)})},setBucket:function(t){o=t},resetBucket:function(){o=""},getExpiryMilliseconds:function(){return s},setExpiryMilliseconds:function(t){n=b(s=t)},enableWarnings:function(t){a=t}}})?r.apply(e,[]):r)&&(t.exports=e)},762:(t,e,r)=>{function i(t,e){t.constructor==String?t=(e&&"binary"===e.encoding?a:n).stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=s.bytesToWords(t),u=(e=8*t.length,0x67452301),h=-0x10325477,l=-0x67452302,c=0x10325476,p=0;p<r.length;p++)r[p]=0xff00ff&(r[p]<<8|r[p]>>>24)|0xff00ff00&(r[p]<<24|r[p]>>>8);r[e>>>5]|=128<<e%32,r[14+(64+e>>>9<<4)]=e;var f=i._ff,d=i._gg,g=i._hh,m=i._ii;for(p=0;p<r.length;p+=16){var y=u,v=h,b=l,_=c;u=f(u,h,l,c,r[p+0],7,-0x28955b88),c=f(c,u,h,l,r[p+1],12,-0x173848aa),l=f(l,c,u,h,r[p+2],17,0x242070db),h=f(h,l,c,u,r[p+3],22,-0x3e423112),u=f(u,h,l,c,r[p+4],7,-0xa83f051),c=f(c,u,h,l,r[p+5],12,0x4787c62a),l=f(l,c,u,h,r[p+6],17,-0x57cfb9ed),h=f(h,l,c,u,r[p+7],22,-0x2b96aff),u=f(u,h,l,c,r[p+8],7,0x698098d8),c=f(c,u,h,l,r[p+9],12,-0x74bb0851),l=f(l,c,u,h,r[p+10],17,-42063),h=f(h,l,c,u,r[p+11],22,-0x76a32842),u=f(u,h,l,c,r[p+12],7,0x6b901122),c=f(c,u,h,l,r[p+13],12,-0x2678e6d),l=f(l,c,u,h,r[p+14],17,-0x5986bc72),u=d(u,h=f(h,l,c,u,r[p+15],22,0x49b40821),l,c,r[p+1],5,-0x9e1da9e),c=d(c,u,h,l,r[p+6],9,-0x3fbf4cc0),l=d(l,c,u,h,r[p+11],14,0x265e5a51),h=d(h,l,c,u,r[p+0],20,-0x16493856),u=d(u,h,l,c,r[p+5],5,-0x29d0efa3),c=d(c,u,h,l,r[p+10],9,0x2441453),l=d(l,c,u,h,r[p+15],14,-0x275e197f),h=d(h,l,c,u,r[p+4],20,-0x182c0438),u=d(u,h,l,c,r[p+9],5,0x21e1cde6),c=d(c,u,h,l,r[p+14],9,-0x3cc8f82a),l=d(l,c,u,h,r[p+3],14,-0xb2af279),h=d(h,l,c,u,r[p+8],20,0x455a14ed),u=d(u,h,l,c,r[p+13],5,-0x561c16fb),c=d(c,u,h,l,r[p+2],9,-0x3105c08),l=d(l,c,u,h,r[p+7],14,0x676f02d9),u=g(u,h=d(h,l,c,u,r[p+12],20,-0x72d5b376),l,c,r[p+5],4,-378558),c=g(c,u,h,l,r[p+8],11,-0x788e097f),l=g(l,c,u,h,r[p+11],16,0x6d9d6122),h=g(h,l,c,u,r[p+14],23,-0x21ac7f4),u=g(u,h,l,c,r[p+1],4,-0x5b4115bc),c=g(c,u,h,l,r[p+4],11,0x4bdecfa9),l=g(l,c,u,h,r[p+7],16,-0x944b4a0),h=g(h,l,c,u,r[p+10],23,-0x41404390),u=g(u,h,l,c,r[p+13],4,0x289b7ec6),c=g(c,u,h,l,r[p+0],11,-0x155ed806),l=g(l,c,u,h,r[p+3],16,-0x2b10cf7b),h=g(h,l,c,u,r[p+6],23,0x4881d05),u=g(u,h,l,c,r[p+9],4,-0x262b2fc7),c=g(c,u,h,l,r[p+12],11,-0x1924661b),l=g(l,c,u,h,r[p+15],16,0x1fa27cf8),u=m(u,h=g(h,l,c,u,r[p+2],23,-0x3b53a99b),l,c,r[p+0],6,-0xbd6ddbc),c=m(c,u,h,l,r[p+7],10,0x432aff97),l=m(l,c,u,h,r[p+14],15,-0x546bdc59),h=m(h,l,c,u,r[p+5],21,-0x36c5fc7),u=m(u,h,l,c,r[p+12],6,0x655b59c3),c=m(c,u,h,l,r[p+3],10,-0x70f3336e),l=m(l,c,u,h,r[p+10],15,-1051523),h=m(h,l,c,u,r[p+1],21,-0x7a7ba22f),u=m(u,h,l,c,r[p+8],6,0x6fa87e4f),c=m(c,u,h,l,r[p+15],10,-0x1d31920),l=m(l,c,u,h,r[p+6],15,-0x5cfebcec),h=m(h,l,c,u,r[p+13],21,0x4e0811a1),u=m(u,h,l,c,r[p+4],6,-0x8ac817e),c=m(c,u,h,l,r[p+11],10,-0x42c50dcb),l=m(l,c,u,h,r[p+2],15,0x2ad7d2bb),h=m(h,l,c,u,r[p+9],21,-0x14792c6f),u=u+y>>>0,h=h+v>>>0,l=l+b>>>0,c=c+_>>>0}return s.endian([u,h,l,c])}var s=r(562),n=r(792).utf8,o=r(335),a=r(792).bin;i._ff=function(t,e,r,i,s,n,o){return((t=t+(e&r|~e&i)+(s>>>0)+o)<<n|t>>>32-n)+e},i._gg=function(t,e,r,i,s,n,o){return((t=t+(e&i|r&~i)+(s>>>0)+o)<<n|t>>>32-n)+e},i._hh=function(t,e,r,i,s,n,o){return((t=t+(e^r^i)+(s>>>0)+o)<<n|t>>>32-n)+e},i._ii=function(t,e,r,i,s,n,o){return((t=t+(r^(e|~i))+(s>>>0)+o)<<n|t>>>32-n)+e},i._blocksize=16,i._digestsize=16,t.exports=function(t,e){if(null==t)throw Error("Illegal argument "+t);return t=s.wordsToBytes(i(t,e)),e&&e.asBytes?t:e&&e.asString?a.bytesToString(t):s.bytesToHex(t)}},189:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){return r=r||0,e[t[r++]]+e[t[r++]]+e[t[r++]]+e[t[r++]]+"-"+e[t[r++]]+e[t[r++]]+"-"+e[t[r++]]+e[t[r++]]+"-"+e[t[r++]]+e[t[r++]]+"-"+e[t[r++]]+e[t[r++]]+e[t[r++]]+e[t[r++]]+e[t[r++]]+e[t[r]]}},532:t=>{var e,r,i,s="undefined"!=typeof window&&(window.crypto||window.msCrypto);s&&s.getRandomValues&&(e=new Uint8Array(16),r=function(){return s.getRandomValues(e),e}),r||(i=Array(16),r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=0x100000000*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}),t.exports=r},953:(t,e,r)=>{var i=r(532),s=r(189);t.exports=function(t,e,r){var n=e&&r||0,o=("string"==typeof t&&(e="binary"==t?Array(16):null,t=null),(t=t||{}).random||(t.rng||i)());if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[n+a]=o[a];return e||s(o)}},300:e=>{"use strict";e.exports=t}},r={},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i={},(()=>{"use strict";let t,e,r,n,o,a,u,h,l,c,p,f,d;s.d(i,{default:()=>rA});var g={},m=(s.r(g),s.d(g,{and:()=>tm,b64d:()=>t$,concat:()=>tq,eq:()=>tb,flagValue:()=>tV,gt:()=>tT,gte:()=>tP,ifThen:()=>tx,inArray:()=>tH,isInPercentage:()=>tj,isInPercentageRange:()=>tB,isInTargetGroup:()=>tU,isTargetGroupPaired:()=>tz,isUndefined:()=>td,lt:()=>tw,lte:()=>tS,match:()=>tA,md5:()=>tK,mergeSeed:()=>tM,ne:()=>tv,not:()=>t_,now:()=>tg,numeq:()=>tN,numne:()=>tE,operatorsWithContext:()=>tJ,or:()=>ty,property:()=>tL,semverEq:()=>tI,semverGt:()=>tC,semverGte:()=>tk,semverLt:()=>tD,semverLte:()=>tR,semverNe:()=>tF,tsToNum:()=>tO}),{}),y=(s.r(m),s.d(m,{CallContextTypes:()=>t4,CustomProperty:()=>eN,FlagTypes:()=>t8,RoxStringBase:()=>t7}),{}),v=(s.r(y),s.d(y,{RoxxParser:()=>tX}),{}),b=(s.r(v),s.d(v,{clearAllOverrides:()=>e8,clearOverride:()=>e4,getOriginalValue:()=>function(t){if(!t)throw Error("Missing name");let e=tn.flagWithName(t);return e?e._originalValue():null},getOverride:()=>function(t=null){if(t)return e6[t];throw Error("Missing name")},hasOverride:()=>function(t=null){return void 0!==t&&void 0!==e6[t]},setOverride:()=>e3}),{});s.r(b),s.d(b,{Flags:()=>tn});let _={debug:0,info:1,warn:2,error:3},x="error",w=new class{constructor(){this.debug=(t,...e)=>{_[x]<=_.debug&&console&&console.log(t,...e)},this.info=(t,...e)=>{_[x]<=_.info&&console&&console.info(t,...e)},this.warn=(t,...e)=>{_[x]<=_.warn&&console&&console.warn(t,...e)},this.error=(t,...e)=>{console&&console.error(t,...e)},this.setVerboseMode=t=>{"verbose"===t?(x="debug",this.debug("Active verbose mode")):x="error"},this.setLogger=t=>{w=t}}},S=w;var O="function"==typeof atob,T="function"==typeof btoa,E="function"==typeof Buffer;let N="function"==typeof TextDecoder?new TextDecoder:void 0,P="function"==typeof TextEncoder?new TextEncoder:void 0,A=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),D=(d={},A.forEach((t,e)=>d[t]=e),d),R=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,C=String.fromCharCode.bind(String),k="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=t=>t)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),I=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),F=T?t=>btoa(t):E?t=>Buffer.from(t,"binary").toString("base64"):t=>{let e,r,i,s,n="";var o=t.length%3;for(let o=0;o<t.length;){if(255<(r=t.charCodeAt(o++))||255<(i=t.charCodeAt(o++))||255<(s=t.charCodeAt(o++)))throw TypeError("invalid character found");n+=A[(e=r<<16|i<<8|s)>>18&63]+A[e>>12&63]+A[e>>6&63]+A[63&e]}return o?n.slice(0,o-3)+"===".substring(o):n},M=E?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let r=0,i=t.length;r<i;r+=4096)e.push(C.apply(null,t.subarray(r,r+4096)));return F(e.join(""))},j=t=>{var e;return t.length<2?(e=t.charCodeAt(0))<128?t:e<2048?C(192|e>>>6)+C(128|63&e):C(224|e>>>12&15)+C(128|e>>>6&63)+C(128|63&e):C(240|(e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320))>>>18&7)+C(128|e>>>12&63)+C(128|e>>>6&63)+C(128|63&e)},B=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,V=E?t=>Buffer.from(t,"utf8").toString("base64"):P?t=>M(P.encode(t)):t=>F(t.replace(B,j)),U=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,z=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return C(55296+(e>>>10))+C(56320+(1023&e));case 3:return C((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return C((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},L=O?t=>atob(I(t)):E?t=>Buffer.from(t,"base64").toString("binary"):t=>{if(t=t.replace(/\s+/g,""),!R.test(t))throw TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,r,i,s="";for(let n=0;n<t.length;)e=D[t.charAt(n++)]<<18|D[t.charAt(n++)]<<12|(r=D[t.charAt(n++)])<<6|(i=D[t.charAt(n++)]),s+=64===r?C(e>>16&255):64===i?C(e>>16&255,e>>8&255):C(e>>16&255,e>>8&255,255&e);return s},H=E?t=>k(Buffer.from(t,"base64")):t=>k(L(t),t=>t.charCodeAt(0)),K=E?t=>Buffer.from(t,"base64").toString("utf8"):N?t=>N.decode(H(t)):t=>L(t).replace(U,z),q="roxTargetUrl",$="roxAuth";class J{constructor(t){this._proxyUrl="",this._proxyAuthHeader="",this._proxySettings=!1,t&&(this._proxySettings=Object.assign({},t),this._proxyUrl=this._proxySettings.protocol+"://"+this._proxySettings.host+(this._proxySettings.port?":"+this._proxySettings.port:""),this._proxySettings.auth&&this._proxySettings.auth.username&&this._proxySettings.auth.password&&(this._proxyAuthHeader="Basic "+((t,e=!1)=>e?V(t).replace(/=/g,"").replace(/[+\/]/g,t=>"+"==t?"-":"_"):V(t))(this._proxySettings.auth.username+":"+this._proxySettings.auth.password),this._proxyAuthHeaderEncoded=encodeURIComponent(this._proxyAuthHeader)))}applyProxyToRequest(t){if(this._proxySettings){t.options=t.options?Object.assign({},t.options):{};let e=t.options;e.params=e.params||{},e.params[q]=t.url,this._proxyAuthHeader&&(e.params[$]=this._proxyAuthHeader),t.url=this._proxyUrl}}applyProxyToSseRequest(t){this._proxySettings&&(t.url=`${this._proxyUrl}?${q}=`+encodeURIComponent(t.url),this._proxyAuthHeaderEncoded&&(t.url=`${t.url}&${$}=`+this._proxyAuthHeaderEncoded))}get proxyUrl(){return this._proxyUrl}}let W="x-api.rollout.io",G=new J,Z=t=>{let e=W,r={API_HOST:e="eu"==t?"eu-"+W:e,CD_API_ENDPOINT:`https://${e}/device/get_configuration`,CD_S3_ENDPOINT:"https://conf.rollout.io/",SS_API_ENDPOINT:`https://${e}/device/update_state_store/`,SS_S3_ENDPOINT:"https://statestore.rollout.io/",CLIENT_DATA_CACHE_KEY:"client_data",NOTIFICATIONS_ENDPOINT:"https://push.rollout.io/sse",ANALYTICS_ENDPOINT:"https://analytic.rollout.io",ERROR_REPORTER:void 0};return"platform"==t&&(r.API_HOST="api.cloudbees.io",r.CD_API_ENDPOINT="https://api.cloudbees.io/device/get_configuration",r.CD_S3_ENDPOINT="https://rox-conf.cloudbees.io/",r.SS_API_ENDPOINT="https://api.cloudbees.io/device/update_state_store/",r.SS_S3_ENDPOINT="https://rox-state.cloudbees.io/",r.ANALYTICS_ENDPOINT="https://fm-analytics.cloudbees.io",r.NOTIFICATIONS_ENDPOINT="https://sdk-notification-service.cloudbees.io/sse"),r},Y=Object.assign({},Z()),Q=t=>Y[t],X=()=>G,tt=function(t){"eu"===t&&(Y=Object.assign({},Z("eu-"))),"platform"===t&&(Y=Object.assign({},Z(t)))},te=()=>Y.ERROR_REPORTER;class tr{constructor(t,e,r,i){var{distinct_id:s,app_release:n,platform:o,api_version:a,lib_version:u}=e=e.getProperties();e=function(t,e){var r={};for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)0>e.indexOf(s[i])&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}(e,["distinct_id","app_release","platform","api_version","lib_version"]),this.device=e,this.header={apiKey:"abbf3bd9c6e80eb1e8c0566c35b08748",notifier:{name:"Rollout JavaScript SDK",version:u,url:"undefined"!=typeof window&&window.location&&window.location.href||void 0}},this.networkOptions=r,this.networkSender=i,this.user={distinct_id:s,app_release:n,app_key:t,platform:o},this.app={api_version:a,lib_version:u}}error(t,e){return this._notify("error",t,e)}_notify(t,e,r){let i={payloadVersion:4,exceptions:[],app:this.app,user:this.user,device:this.device,metaData:{data:{message:e,exception:r.toString()}},severity:t};return r instanceof Error?(i.exceptions.push({errorClass:r.name,message:e+"\n"+r.message,stacktrace:r.stack||""}),i.groupingHash=r.fileName):i.exceptions.push({errorClass:"Error",message:e,stacktrace:[]}),this._send([i])}_send(t){t=Object.assign({events:t},this.header),S.debug("Sending bugsnag error report."),t={url:"https://notify.bugsnag.com",data:t,options:this.networkOptions},X().applyProxyToRequest(t);try{this.networkSender.post(t.url,t.data,t.options).then(()=>{S.debug("Successfully sent error report.")}).catch(t=>{S.debug("Failed to send error report",t)})}catch(t){S.debug("Failed to send error report.",t)}}}class ti{constructor(t,e){this.flagRepo=t,this.experimentsRepo=e}prepareFlagsWithExperiments(){let t=this.experimentsRepo.experiments||[],e=(S.debug("Set experiments "+JSON.stringify(t)),[]);t.forEach(t=>{t&&t.flags.forEach(r=>{(r=r&&this.flagRepo.flagWithName(r.name))&&(e.push(r),this.connectExperimentToFlag(r,t.deploymentConfiguration.condition))})}),this.flagRepo.flags.forEach(t=>{e.some(e=>e===t)||this.connectExperimentToFlag(t,void 0)})}setAddedFlag(t){var e=this.experimentsRepo.experimentForFlag(t);e&&this.connectExperimentToFlag(t,e.deploymentConfiguration.condition)}connectExperimentToFlag(t,e){t.condition=e}}let ts=new class{constructor(){this.map={}}setExperiments(t){this.map={},(t=t||[]).forEach(function(t){this.map[t.identifier]=t},this)}experimentWithName(t){return this.map[t]}get experiments(){return Object.keys(this.map).map(t=>this.map[t])}experimentForFlagName(t){return this.experiments.find(e=>e.flags&&e.flags.some(e=>e.name===t))}experimentForFlag(t){return this.experimentForFlagName(t.name)}},tn=new class{constructor(){this.map={}}addFlag(t,e){e.name=t,this.map[t]=e,new ti(this,ts).setAddedFlag(e)}flagWithName(t){return this.map[t]}get flags(){return Object.keys(this.map).map(t=>this.map[t])}get items(){return this.flags}};class to{constructor(t,e,r){this._string=t,this._delimiters=e,this._returnDelim=r,this._position=0}countTokens(){let t=0,e=!1;for(let r=this._position,i=this._string.length;r<i;r++)-1!=this._delimiters.indexOf(this._string.charAt(r))?(this._returnDelim&&t++,e&&(t++,e=!1)):e=!0;return e&&t++,t}hasMoreElements(){return this.hasMoreTokens()}hasMoreTokens(){if(!this._delimiters)return!1;var t=this._string.length;if(this._position<t){if(this._returnDelim)return!0;for(let e=this._position;e<t;e++)if(-1==this._delimiters.indexOf(this._string.charAt(e)))return!0}return!1}nextElement(){return this.nextToken()}nextToken(){if(this._delimiters){let e=this._position;var t=this._string.length;if(e<t){if(this._returnDelim){if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.charAt(this._position++);for(this._position++;this._position<t;this._position++)if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.substr(e,this._position-e);return this._string.substr(e)}for(;e<t&&-1!=this._delimiters.indexOf(this._string.charAt(this._position));)e++;if((this._position=e)<t){for(this._position++;this._position<t;this._position++)if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.substr(e,this._position-e);return this._string.substr(e)}}}}nextTokenWithDelimiters(t){return this._delimiters=t,this.nextToken()}}let ta=new class{constructor(){this.map={}}addTargetGroup(t){this.map[t.identifier]=t}setTargetGroups(t){this.map={},(t=t||[]).forEach(function(t){this.map[t.identifier]=t},this)}targetGroupWithName(t){return this.map[t]}get targetGroups(){return Object.keys(this.map).map(t=>this.map[t])}},tu=new class{constructor(){this.store=new Map}has(t){return this.store.has(t.name)}get(t){return this.store.get(t)}set(t){this.store.set(t.name,t)}setIfNotExists(t){this.has(t)||this.set(t)}clear(){this.store.clear()}get items(){return Array.from(this.store.values())}};T=s(762);var th=s.n(T);let tl=(t,e)=>e?e[t]:void 0,tc=new class{invoke(t,e){if(this.userUnhandledErrorHandler)try{this.userUnhandledErrorHandler(t,e)}catch(t){S.error("User Unhandled Error Handler itself threw an exception. original exception:"+e,t)}else S.error("User Unhandled Error Occured, no fallback handler was set, exception ignored.",e)}setHandler(t){t instanceof Function?this.userUnhandledErrorHandler=t:S.warn("UserspaceUnhandledErrorHandler must be a function. default will be used.")}};function tp(t,e,r={zeroExtend:!0,lexicographical:!0}){let i=r&&r.lexicographical;r=r&&r.zeroExtend;let s=t.split("."),n=e.split(".");function o(t){return(i?/[0-9A-Za-z_-]+$/:/^\d+$/).test(t)}if(!s.every(o)||!n.every(o))return NaN;if(r){for(;s.length<n.length;)s.push("0");for(;n.length<s.length;)n.push("0")}i||(s=s.map(Number),n=n.map(Number));for(let t=0;t<s.length;++t){if(n.length==t)return 1;if(s[t]!=n[t])return s[t]>n[t]?1:-1}return s.length!=n.length?-1:0}let tf=t=>((255&(t=th()(t,{asBytes:!0}))[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24)>>>0)/0xffffffff,td=t=>void 0===t,tg=()=>Date.now(),tm=(t,e)=>t&&e,ty=(t,e)=>t||e,tv=(t,e)=>(!td(t)&&t)!==(!td(e)&&e),tb=(t,e)=>(!td(t)&&t)===(!td(e)&&e),t_=t=>!t,tx=(t,e,r)=>t?e:r,tw=(t,e)=>!(td(t)||td(e)||"number"!=typeof t&&isNaN(t=Number(t))||"number"!=typeof e&&isNaN(e=Number(e))||!(t<e)),tS=(t,e)=>!(td(t)||td(e)||"number"!=typeof t&&isNaN(t=Number(t))||"number"!=typeof e&&isNaN(e=Number(e))||!(t<=e)),tO=t=>{if(!td(t))return t instanceof Date?t.getTime()/1e3:void 0},tT=(t,e)=>!(td(t)||td(e)||"number"!=typeof t&&isNaN(t=Number(t))||"number"!=typeof e&&isNaN(e=Number(e))||!(e<t)),tE=(t,e)=>!(td(t)||td(e)||"number"!=typeof t&&isNaN(t=Number(t))||"number"!=typeof e&&isNaN(e=Number(e))||t===e),tN=(t,e)=>!(td(t)||td(e)||"number"!=typeof t&&isNaN(t=Number(t))||"number"!=typeof e&&isNaN(e=Number(e))||t!==e),tP=(t,e)=>!(td(t)||td(e)||"number"!=typeof t&&isNaN(t=Number(t))||"number"!=typeof e&&isNaN(e=Number(e))||!(e<=t)),tA=(t,e,r)=>!!new RegExp(e,r).exec(t),tD=(t,e)=>!td(t)&&!td(e)&&"string"==typeof t&&"string"==typeof e&&0>tp(t,e,{zeroExtend:!0}),tR=(t,e)=>!td(t)&&!td(e)&&"string"==typeof t&&"string"==typeof e&&0>=tp(t,e,{zeroExtend:!0}),tC=(t,e)=>!td(t)&&!td(e)&&"string"==typeof t&&"string"==typeof e&&0<tp(t,e,{zeroExtend:!0}),tk=(t,e)=>!td(t)&&!td(e)&&"string"==typeof t&&"string"==typeof e&&0<=tp(t,e,{zeroExtend:!0}),tI=(t,e)=>!td(t)&&!td(e)&&"string"==typeof t&&"string"==typeof e&&0==tp(t,e),tF=(t,e)=>!td(t)&&!td(e)&&"string"==typeof t&&"string"==typeof e&&0!=tp(t,e),tM=(t,e)=>t+"."+e,tj=(t,e)=>tf(e)<=t,tB=(t,e,r)=>t<=(r=tf(r))&&r<=e,tV=(t,e={},r={})=>{let i=tn.flagWithName(t);if(i)return s=Object.assign({},r),i.getInternalValue(s,e),s.isPeek||s.result.isOverride||s.result.isFreezed||i._flagImpression(s.result.value,s.result.usedContext),s.result.value;var s=ts.experimentForFlagName(t);return s&&s.deploymentConfiguration&&(new tX).evaluateExpression(s.deploymentConfiguration.condition,r,e)||"false"},tU=(t,e={},r={})=>!!(t=ta.targetGroupWithName(t))&&(new tX).evaluateExpression(t.condition,r,e),tz=()=>!1,tL=(t,e={})=>{let r=tu.get(t);if(r)return r.getValue(e);{let r;let i=tl;if(i){if(i._isUserDefined)try{r=i(t,e)}catch(t){throw t.isUserError=!0,t.trigger="DYNAMIC_PROPERTIES_RULE",t}else r=i(t,e)}return r}},tH=(t,e)=>!!e&&e.includes(t),tK=t=>{if("string"==typeof t)return th()(t)},tq=(t,e)=>{if("string"==typeof t&&"string"==typeof e)return""+t+e},t$=t=>{if("string"==typeof t)return decodeURIComponent(K(I(t.replace(/[-_]/g,t=>"-"==t?"+":"/"))))},tJ=[tU,tV,tL],tW=Object.keys(g),tG='{}[]():, 	\r\n"',tZ="operator",tY="operand";class tQ{constructor(){this.tokenArray=[],this.arrayAccumulator=void 0,this.dictionaryAccumulator=void 0,this.dictKey=void 0}_stringToRoxx(t){return tW.includes(t)?{type:tZ,value:t}:"true"==t?{type:tY,value:!0}:"false"==t?{type:tY,value:!1}:"undefined"==t?{type:tY,value:void 0}:'"'==t.charAt(0)&&'"'==t.charAt(t.length-1)?{type:tY,value:t.substr(1,t.length-2)}:isNaN(t)?{type:"UNKNOWN"}:{type:tY,value:+t}}push(t){this.dictionaryAccumulator&&!this.dictKey?this.dictKey=t.value:this.dictionaryAccumulator&&this.dictKey?(this.dictionaryAccumulator[this.dictKey]=t.value,this.dictKey=void 0):this.arrayAccumulator?this.arrayAccumulator.push(t.value):this.tokenArray.push(t)}tokenize(t){let e,r;this.tokenArray=[],this.arrayAccumulator=void 0,this.dictionaryAccumulator=void 0;let i=tG,s=new to(t=t.replace('\\"',"\\RO_Q"),i,!0);for(;s.hasMoreTokens();)switch(r=e,e=s.nextTokenWithDelimiters(i)){case"{":this.dictionaryAccumulator={};break;case"}":this.tokenArray.push({type:tY,value:this.dictionaryAccumulator}),this.dictionaryAccumulator=void 0;break;case"[":this.arrayAccumulator=[];break;case"]":this.tokenArray.push({type:tY,value:this.arrayAccumulator}),this.arrayAccumulator=void 0;break;case'"':'"'==r&&this.push({type:tY,value:""}),i='"'==i?tG:'"';break;default:'"'==i?this.push({type:tY,value:e.replace("\\RO_Q",'\\"')}):-1==tG.indexOf(e)&&this.push(this._stringToRoxx(e))}return this.tokenArray}}class tX{constructor(t){this._tokenizer=new tQ,this._cache=t||{}}_argsArrayForOperator(t,e){let r=[];var i=t.length;for(let t=0;t<i;t++){var s=e.pop();r.push(s)}return r}_modifyArgsHook({operator:t,args:e,context:r,callContext:i}){let s=e;return r&&tJ.includes(t)&&(s=[...e,r]),i?[...s,i]:s}compileExpression(t){let e=this._cache[t];return e||(e=this._tokenizer.tokenize(t).reverse(),this._cache[t]=e),e}evaluateExpression(t,e={},r={},i){let s;let n=[];var o,a=this.compileExpression(t),u=a.length;try{for(let t=0;t<u;t++){var h=a[t];if(h.type==tY)n.push(h.value);else{if(h.type!=tZ){n.push(void 0);break}{let t=g[h.value];var l=this._argsArrayForOperator(t,n),c=(l=this._modifyArgsHook({operator:t,args:l,context:r,callContext:e}),t.apply(this,l)),p=(n.push(c),`${h.value}(${JSON.stringify(l)}) => `+c);i&&i.push(p),S.debug("Roxx: "+p)}}}s=n.pop()}catch(e){var f="Uh oh! An error occurred during Roxx evaluation. "+t;e.isUserError?tc.invoke(e.trigger,e):null!=(o=te())&&o.error(f,e),S.error(f,e),s=!1}finally{return s}}}let t0=!1,t1={"rox.internal.pushUpdates":"true","rox.internal.considerThrottleInPush":"false","rox.internal.throttleFetchInSeconds":"0","rox.internal.analytics":"true"};function t2(t){return"boolean"==typeof(t=t6(t))?t:"true"===t}function t6(t){return t0&&Object.prototype.hasOwnProperty.call(t1,t)?t1[t]:(t=ts.experimentForFlagName(t))&&t.deploymentConfiguration?(new tX).evaluateExpression(t.deploymentConfiguration.condition):""}let t5=null,t3=null,t4={frozenOrCalc:"frozenValueOrOneTimeEval",oneTimeCalc:"oneTimeEval",default:"useFrozen"},t8={boolean:"boolean",number:"number",string:"string"};class t7{constructor(t,e,r){if(this._type=r,r=this._validateDefault(t),Array.isArray(e))this._validateOptions(e),this._options=e.map(t=>t.toString());else{if(null!=e)throw Error("RoxStringBase wrong variations type");this._options=[]}-1===this._options.indexOf(r)&&this._options.push(r),this._value=this._defaultValue=r,this._frozen=!1,this._freezable=!0}_validateDefault(t){if(typeof t!==this._type)throw Error(`RoxStringBase default value must be of ${this._type} type. Received '${t}'`);return t.toString()}_validateOptions(t){var e=Error(`RoxStringBase options must be a non-empty array of ${this._type}. Received '${t}'`);if(!t.every(t=>typeof t===this._type))throw e}get defaultValue(){return this._defaultValue}get overridenValue(){if(this.overrider.hasOverride(this.name))return this.overrider.getOverride(this.name)}get overrider(){throw Error("Not implemented")}getInternalValue(t,e){throw Error("not implemented")}get externalType(){switch(this._type){case t8.boolean:return Boolean.name;case t8.number:return Number.name;default:return t8.string,String.name}}set name(t){this._name=t}get name(){return this._name}_getNameDetails(){if(this.name){let t=this.name.split(".");return{name:t.pop(),namespace:t.join(".")||"default"}}}dump(){var t={type:t4.frozenOrCalc};return this.getInternalValue(t),{name:this.name,type:this._type,nameDetails:this._getNameDetails(),options:[...this._options],defaultValue:this.defaultValue,originalValue:this._originalValue(),overridingValue:this.overridenValue,value:t.result.value}}getActiveValue(t,e){throw Error("Not implemented")}_originalValue(){var t={type:t4.frozenOrCalc};return this.getActiveValue(t),t.result.value}_flagImpression(t,e){var r=ts.experimentForFlag(this);try{if(t3&&t2("rox.internal.analytics")){var i=r&&r.stickinessProperty;let n=i&&tu.get(i);var s=(n=n||tu.get("rox.distinct_id"))?n.getValue(e):"";t3.track({flag:this.name,value:t,distinctId:s,type:"IMPRESSION",time:(new Date).getTime()})}}catch(t){S.error("Failed to send analytics",t)}if("function"==typeof t5){i=!!r;try{t5({name:this.name,value:t,targeting:i},e)}catch(t){tc.invoke("IMPRESSION_HANDLER",t)}}}static _normalizeString(t){return t}static _normalizeNumber(t){return Number(t)}static _normalizeBoolean(t){return"boolean"==typeof t?t:"true"===t}}let t9={flagsRepository:tn};function et(t,e=null){let{app_key:r,buid:i,relative_url:s}=t,n=function(t,e){var r={};for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)0>e.indexOf(s[i])&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}(t,["app_key","buid","relative_url"]);return n.cache_miss_relative_url=s,t=Q("CD_API_ENDPOINT")+`/${r}/`+i,{url:e||t,body:n}}function ee(t,e=null){return{url:e||""+Q("SS_API_ENDPOINT")+t.app_key+"/"+t.md5,body:{platform:t.platform,feature_flags:t.feature_flags,custom_properties:t.custom_properties,devModeSecret:t.devModeSecret}}}function er(t){var{data:t,status:e}=t;return 200===e&&t&&"object"==typeof t?(S.debug("succeed fetch from API"),t):Promise.reject(Error("Unexpected response from ROX API"))}function ei(t,e,r,i){return e={url:e,data:r,options:i},X().applyProxyToRequest(e),t.post(e.url,e.data,e.options).then(er)}function es(t,e,r,i){return e={url:e,data:r,options:i},X().applyProxyToRequest(e),t.post(e.url,e.data,e.options).then(({status:t})=>{if(200!==t)return Promise.reject(Error("Unexpected response from ROX API"));S.debug("succeed setState from API")})}function en(t){return t.catch(t=>{throw t.message="Unable to fetch rox configuration!\n"+t.message,S.error(t),t})}let eo=["lib_version","api_version","platform","app_key","customSigningCertificate"],ea=["platform","app_key","feature_flags","custom_properties","devModeSecret"];function eu(t={},e=[]){let r=e.map(e=>{var r=t[e];return r?r.constructor===Object||r.constructor===Array?JSON.stringify(r):r:e});return th()(r.join("|"))}class eh{constructor(t){this.condition=t}}class el{constructor(t,e,r,i,s,n,o,a){this.identifier=t,this.name=e,this.archived=r,this.sticky=i,this.deploymentConfiguration=s,this.flags=n,this.labels=o,this.stickinessProperty=a}}let ec="deploymentConfiguration",ep="condition",ef="name",ed="featureFlags";class eg{constructor(t){this._json=t}parse(){if(!this._json||!this._json.length)return[];let t=[];return this._json.forEach(e=>{var r,i;e&&e[ec]&&e._id&&e[ef]&&e[ed]&&(i=e[ec])[ep]&&(r=e.labels||[],i=new eh(i[ep]),t.push(new el(e._id,e[ef],!!e.archived,!!e.sticky,i,e[ed],r,e.stickinessProperty)))}),t}}class em{constructor(t,e){this.identifier=t,this.condition=e}}let ey="condition";class ev{constructor(t){this._json=t}parse(){if(!this._json||!this._json.length)return[];let t=[];return this._json.forEach(e=>{e&&e._id&&e[ey]&&t.push(new em(e._id,e[ey]))}),t}}class eb{constructor(t,e,r=!0){if(!t||"object"!=typeof t)throw Error("ConfigurationParser should be constructed with JSON object. Received "+t);if(!e||"string"!=typeof e)throw Error("ConfigurationParser should be constructed with app key string. Received "+e);this._json=t,this._appKey=e,this._validateAppKey=r}parse(){var t=this._extractInnerJson(this._json);return this._validateAppKey&&t.application!==this._appKey?null:(this._parseExperiments(t.experiments),this._parseTargetGroups(t.targetGroups),this._signedDate=new Date(this._json.signed_date),this)}experiments(){return this._experiments||[]}targetGroups(){return this._targetGroups||[]}signedDate(){return this._signedDate}_extractInnerJson(t){return JSON.parse(t.data)}_parseExperiments(t){this._experiments=new eg(t).parse()}_parseTargetGroups(t){this._targetGroups=new ev(t).parse()}}let e_="ERROR_FETCH_FAILED";class ex{constructor(t,e,r,i,s){this.fetcherStatus=t,this.creationDate=e,this.hasChanges=r,this.errorDetails=i,this.clientData=s}}try{e=$__ROX_EMBEDDED_CONTENT}catch(t){}if(e&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){e=void 0}let ew=t=e&&e.constructor===Object&&e.signed_date?e:t,eS=Q("CLIENT_DATA_CACHE_KEY"),eO=!1,eT=class{constructor(t,e,r,i,s,n,o,a){this.cache=i.RoxCache,this.crypto=i.RoxCrypto,this.embdeddedJSON=this.fetchFromEmbedded(s),this.appKey=t,this.deviceProperties=e,this.devModeSecret=r,this.options=n||{},this.networkOptions=o,this.networkSender=a,this.lastResponse=null}runHandler(t,e){var r;if(e.errorDetails&&null!=(r=te())&&r.error("Configuration fetcher returned with "+e.fetcherStatus,e.errorDetails),t instanceof Function)try{t(e)}catch(t){}}dispatch({handler:t,options:e}){try{var r,i,s;S.debug("dispatch();");let n=[];if(e.useCache&&(this.embdeddedJSON&&(this.verifyPayload(this.embdeddedJSON)?(r=this.parsePayload(this.embdeddedJSON))&&n.push({payload:this.embdeddedJSON,parser:r,status:"APPLIED_FROM_EMBEDDED"}):S.error("The embdeddedJSON was corrupted or its authenticity cannot be securely verified. skipping embedded")),(i=this.fetchFromCache())&&(this.verifyPayload(i)?(s=this.parsePayload(i))&&n.push({payload:i,parser:s,status:"APPLIED_FROM_CACHE"}):S.error("The cachedPayload was corrupted or its authenticity cannot be securely verified. skipping cache"))),0<n.length){let e=n.reduce((t,e)=>t&&t.parser.signedDate()>e.parser.signedDate()?t:e,null);(!this.lastApplied||this.lastApplied.signedDate()<e.parser.signedDate())&&(this.lastResponse=e.payload,this.apply(e.parser,e.status,!1,t,e.payload))}return e.skipNetwork?void 0:this.shouldSkipFetch(e.source)?void S.debug("Skipping fetch - kill switch"):this._dispatch({handler:t,storeInCache:!0})}catch(t){S.error("Unexpected error in dispatch",t)}}shouldSkipFetch(t){t="push"===t;var e=parseInt(e=t6("rox.internal.throttleFetchInSeconds"))||0;if(0<e&&(!t||t2("rox.internal.considerThrottleInPush"))){if(t=+Date.now(),this.lastFetchTryTime&&t<this.lastFetchTryTime+1e3*e)return!0;this.lastFetchTryTime=t}return!1}dispatchPeriodically({handler:t,periodTimeInSec:e}){if(eO)return S.debug("Dispatch Periodically already running"),Promise.resolve();eO=!0,S.debug("Dispatch Periodically"),setInterval(()=>{this._dispatch({handler:t})},1e3*e)}_dispatch({handler:t,storeInCache:e}){return this.fetchFromNetwork().then(r=>{var i=this.isNewResponse(r);return this.process(r,"APPLIED_FROM_NETWORK",i,t).then(()=>{e&&this.storeInCache(r),this.lastResponse=r})}).catch(e=>{this.runHandler(t,new ex(e_,null,!1,e))})}fetchFromNetwork(){S.debug("fetch from network for appKey "+this.appKey);var t,e,r,i,s,n,o=function({appKey:t,deviceProperties:e,devModeSecret:r}){var i;let s=e.getProperties();return s.app_key=t,s.buid=([e={},i=eo]=[s],eu(e,i)),s.buid_generators_list=eo.join(","),s.relative_url=t+"/"+s.buid,s.cache_url=""+Q("CD_S3_ENDPOINT")+s.relative_url,s.devModeSecret=r,s}({appKey:this.appKey,deviceProperties:this.deviceProperties,devModeSecret:this.devModeSecret});return this.rc=o,this.options.roxyUrl?(s=this.networkSender,n=this.options.roxyUrl,i=this.networkOptions,n={url:et(o,n).url,options:i},X().applyProxyToRequest(n),en(s.get(n.url,n.options).then(er))):([t,e,r,i={}]=[this.networkSender,o,this.networkOptions,this.options],s=`${e.cache_url}?distinct_id=${e.distinct_id}&platform=${e.realPlatform}&lib_version=`+e.lib_version,i.selfManagedMode&&!Q("CD_S3_ENDPOINT")?en(ei(t,(n=et(e)).url,n.body,r)):(o=t,i={url:s,options:r},X().applyProxyToRequest(i),en(o.get(i.url,i.options).then(({data:t,status:e})=>{if(200===e&&t&&"object"==typeof t){if(404!==t.result)return S.debug("succeed fetch from CDN"),t;{S.debug("succeed fetch from CDN, but it was missing");let t=Error("missing from CDN");return t.missing=!0,Promise.reject(t)}}}).catch(t=>{if(t.missing||t.response&&(404==t.response.status||403==t.response.status))return Promise.reject();S.debug("Unexpected error calling get configuration, status code returned different from 403 or 404. error: "+t)}).catch(()=>{var i=et(e);return ei(t,i.url,i.body,r)}))))}fetchFromCache(){S.debug("fetch From Cache");let t,e=this.cache.get(this.cacheKey());if(e=e||this.cache.get(eS)){try{t=JSON.parse(e)}catch(t){S.warn(`Configuration retrieved from cache, but is corrupted. Aborting. (Error: ${t})`)}if(t&&t.constructor===Object)return S.debug("Parsed cached = "+JSON.stringify(t)),t}}cacheKey(){return eS+"-"+this.appKey}fetchFromEmbedded(t){let e;if(t){try{e=JSON.parse(t)}catch(t){S.warn("Received embdedded configuration, but it is corrupted. Aborting. Error: ",t)}if(e&&e.constructor===Object)return S.debug("Parsed embedded = "+JSON.stringify(e)),e}if(ew&&"object"==typeof ew)return ew}storeInCache(t){S.debug("Store in cache response = "+JSON.stringify(t)),this.cache.set(this.cacheKey(),JSON.stringify(t))}process(t,e,r,i){if(!t)return Promise.reject("Empty configuration");if(!this.verifyPayload(t))return Promise.reject("The payload has corrupted or its authenticity cannot be securely verified.");var s=this.parsePayload(t);return s?this.apply(s,e,r,i,t):Promise.reject("Failed to parse configuration")}apply(t,e,r,i,s){if(t)return this.calculatePayload(t),this.lastApplied=t,new Promise(n=>{var o=new ex(e,t.signedDate(),r,void 0,s);this.runHandler(i,o),n()})}parsePayload(t){var e=!this.options.roxyUrl;let r=new eb(t,this.appKey,e);return r.parse()?r:(S.debug(`failed to parse payload. response = ${JSON.stringify(t)} deviceProps = ${this.deviceProperties} app_key = `+this.appKey),null)}verifyPayload(t){var{signature_v0:t,data:e}=t;return!!(this.options.roxyUrl||this.options.selfManagedMode||this.options.disableSignatureVerification)||this.crypto.verify(e,t)}calculatePayload(t){if(t)return ta.setTargetGroups(t.targetGroups()),ts.setExperiments(t.experiments()),new ti(tn,ts).prepareFlagsWithExperiments(),t}isNewResponse(t){return JSON.stringify(this.lastResponse)!==JSON.stringify(t)}get cacheURL(){return this.rc&&this.rc.cache_url}},eE="Semver";class eN{constructor(t,e,r){if(e===eE&&(this._isSemver=!0,e=String),void 0===t||""===t)throw Error("Custom property must be initialized with a name.");if(this._name=t,"function"==typeof r){if(1<r.length)throw Error("Dynamic value of a custom property should be a function with maximum 1 argument");r.isDynamic=!0,this._value=r}else{if(t=e,r&&r.constructor!==t&&r.constructor!==Function)throw Error(`Custom property initialized with an invalid type / value combination. (Type: ${t}, Value: ${r})`);this._value=()=>r}this._type=e}get type(){return this.externalType}get externalType(){return this._isSemver?eE:this._type.name==Date.name?eN.dateTypeName:this._type.name}get name(){return this._name}getValue(t={}){if(this._value&&this._value.isDynamic)try{return this._value(t)}catch(t){throw t.isUserError=!0,t.trigger="CUSTOM_PROPERTY_GENERATOR",t}return this._value(t)}static get dateTypeName(){return"DateTime"}static get semverTypeName(){return eE}get value(){return this._value()}}let eP=t=>{setTimeout(t,5)},eA=()=>{},eD=class{constructor(t,e,r,i,s){if(e=e||{},this.queue=[],this.writeKey=t,this.host=e.host||Q("ANALYTICS_ENDPOINT"),this.timeout=e.timeout||!1,this.flushAt=Math.max(e.flushAt||20,1),this.flushInterval=e.flushInterval||1e4,this.flushed=!1,this.version=r.getProperties().lib_version||"0.0",void 0===r.getProperties().platform)throw Error("Platform must be provided");this.platform=r.getProperties().platform||"",this.networkOptions=i,this.networkSender=s,Object.defineProperty(this,"enable",{configurable:!1,writable:!1,enumerable:!0,value:"boolean"!=typeof e.enable||e.enable})}identify(t,e){return this.enqueue("identify",t,e),this}group(t,e){return this.enqueue("group",t,e),this}track(t,e){return this.enqueue("track",t,e),this}page(t,e){return this.enqueue("page",t,e),this}screen(t,e){return this.enqueue("screen",t,e),this}alias(t,e){return this.enqueue("alias",t,e),this}enqueue(t,e,r){return r=r||eA,this.enable?(e=Object.assign({},e),this.queue.push({message:e,callback:r}),this.flushed?(this.queue.length>=this.flushAt&&this.flush(),void(this.flushInterval&&!this.timer&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval)))):(this.flushed=!0,void this.flush())):eP(r)}flush(t){if(t=t||eA,!this.enable||(this.timer&&(clearTimeout(this.timer),this.timer=null),!this.queue.length))return eP(t);let e=this.queue.splice(0,this.flushAt),r=e.map(t=>t.callback);var i=e.map(t=>t.message);let s={analyticsVersion:"1.0.0",sdkVersion:this.version,time:(new Date).getTime(),platform:this.platform,rolloutKey:this.writeKey,events:i},n=e=>{r.forEach(t=>t(e)),t(e,s)},o=(i=this.host+"/impression/"+this.writeKey,{httpsAgent:this.networkOptions.httpsAgent,httpAgent:this.networkOptions.httpAgent});this.timeout&&(o.timeout=this.timeout),i={url:i,data:s,options:o},X().applyProxyToRequest(i),this.networkSender.post(i.url,i.data,i.options).then(()=>n()).catch(t=>{if(t.response)return n(Error(t.response.statusText));n(t)})}},eR="object"==typeof window&&window.EventSource;class eC{constructor(t,e,r,i){t=t+(t.endsWith("/")?"":"/")+e,S.info("Starting push notification listener to "+t),e={url:t,options:i},X().applyProxyToSseRequest(e),r?this.eventSource=new r(e.url,e.options):eR&&(this.eventSource=new eR(e.url))}on(t,e){this.eventSource&&this.eventSource.addEventListener(t,t=>{try{e(t)}catch(t){}})}stop(){this.eventSource&&this.eventSource.close()}}O=s(73);var ek=s.n(O);function eI(t){return t.catch(t=>{throw t.message="Unable to send state!\n"+t.message,t})}class eF{constructor(t=!1){this.includePlatformChanges=t}get customProperties(){let t=[];return tu.items.forEach(e=>{if(e.externalType!==eN.dateTypeName||this.includePlatformChanges){let r={name:e.name,externalType:e.externalType};r.type=e.type,t.push(r)}}),t}get featureFlags(){let t=[];return tn.items.forEach(e=>{let r={name:e.name,defaultValue:e.defaultValue,options:e._options};this.includePlatformChanges&&(r.externalType=e.externalType),t.push(r)}),t}}let eM=class{constructor(t,e,r,i,s,n,o){this.appKey=t,this.deviceProperties=e,this.devModeSecret=r,this.networkOptions=i,this.options=s,this.registry=new eF(n),this.networkSender=o}send(){S.debug("check for cached state for appKey "+this.appKey);var t,e,r,i,s,n,o,a=this.buildSetState();try{[t,e,r,i={}]=[this.networkSender,a,this.networkOptions,this.options],o=""+Q("SS_S3_ENDPOINT")+e.app_key+"/"+e.md5,(i.selfManagedMode&&!Q("SS_S3_ENDPOINT")?(s=ee(e),eI(es(t,s.url,s.body,r))):(n={url:o,options:r},X().applyProxyToRequest(n),eI(t.get(n.url,n.options).then(({data:t,status:e})=>{if(200===e&&t&&"object"==typeof t){if(404===t.result){S.debug("succeed setState from CDN, but it was missing");let t=Error("missing from CDN");return t.missing=!0,Promise.reject(t)}if(200===t.result)return void S.debug("succeed setState from CDN")}S.debug("succeed setState, but with unexpected response")}).catch(t=>{if(t.missing||t.response&&(404==t.response.status||403==t.response.status))return Promise.reject();S.debug("Unexpected error calling setState, status code returned different from 403 or 404. error: "+t)}).catch(()=>{var i=ee(e);return es(t,i.url,i.body,r)})))).catch(t=>{S.error("failed to send state (promise)",t)})}catch(t){S.error("failed to send state",t)}}sortItemsByName(t){return t.sort((t,e)=>t.name>e.name?-1:1)}buildSetState(){var t,e;let r=this.deviceProperties.getProperties();return r.app_key=this.appKey,r.feature_flags=this.sortItemsByName(this.registry.featureFlags),r.custom_properties=this.sortItemsByName(this.registry.customProperties),r.devModeSecret=this.devModeSecret,r.md5=([t={},e=ea]=[r],eu(t,e)),r}};class ej{constructor(t,e,r){this.status=t,this.data=e,this.headers=r}}class eB{constructor(t){this.fetch=t}get(t,e){return e=Object.assign({method:"GET"},e),this.fetch(t,e).then(this.handleFetch)}post(t,e,r){var i=r.headers;return r=function(t,e){var r={};for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)0>e.indexOf(s[i])&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}(r,["headers"]),e=Object.assign({method:"POST",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},i)},r),this.fetch(t,e).then(this.handleFetch)}handleFetch(t){if(!t.ok){let e=Error("network returned non 2xx response");return e.response=t,Promise.reject(e)}let e=t.headers.get("content-type");return e&&e.includes("application/json")?t.json().then(e=>new ej(t.status,e,t.headers)):t.text().then(e=>new ej(t.status,e,t.headers))}}E=s(300);var eV=s.n(E);class eU{get(t,e){return eV().get(t,e).then(t=>new ej(t.status,t.data,t.headers))}post(t,e,r){return eV().post(t,e,r).then(t=>new ej(t.status,t.data,t.headers))}}let ez={ClassRegister:class{constructor(t={}){this.options=Object.assign({},t9,t),this._flagsRepository=this.options.flagsRepository,this._namespaceStore=new Set}handleContainer(t,e){var r,i;if("[object String]"!==Object.prototype.toString.call(t))throw Error("InvalidNamespace: Namespace must be a string (non-nullable).");if(this._namespaceStore.has(t))throw Error(`InvalidNamespace: A namespace must be unique. A container with the given namespace ('${t}') has already been registered.`);for(let s in this._namespaceStore.add(t),e)Object.prototype.hasOwnProperty.call(e,s)&&(r=t?t+"."+s:s,(i=e[s])instanceof t7&&this._flagsRepository.addFlag(r,i))}}},eL=new class{constructor(t=5e3){this.classRegisterer=new ez.ClassRegister,this.sendStateDebounceNoCheck=ek()(()=>{this._sendState()},t,{maxWait:t,leading:!1,trailing:!0}),this.sendStateDebounced=()=>{this.appKey&&this.sendStateDebounceNoCheck()},this.onConfigurationFetched=this.onConfigurationFetched.bind(this)}get dynamicApi(){return this._dynamicApi}get appKey(){return this.app_key}setKey(t,e){var r=/^[a-f\d]{24}$/i.test(t),i=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t);if(!r&&!i)throw Error("invalid rollout apikey");this.app_key=t,i&&(tt("platform"),e.disableSignatureVerification=!0)}setup(t){var e,r;try{this.handleOptions(t),ez.DeviceProperties=ez.DeviceProperties.create?ez.DeviceProperties.create(ez):ez.DeviceProperties,this.app_release&&ez.DeviceProperties.setAppRelease(this.app_release),this.distinct_id&&ez.DeviceProperties.setDistinctId(this.distinct_id),this.platform&&ez.DeviceProperties.setPlatform(this.platform),this.deviceProperties=ez.DeviceProperties,this.deviceProperties.setRealPlatform(this.realPlatform),this.selfManagedMode&&(r=new tr(this.appKey,ez.DeviceProperties,this.networkOptions,this.networkApi),Y.ERROR_REPORTER=r),this.configurationFetcher=new eT(this.appKey,this.deviceProperties,this.devModeSecret,ez,this.embeddedConfiguration,{roxyUrl:this.roxyUrl,selfManagedMode:this.selfManagedMode,disableSignatureVerification:this.disableSignatureVerification},this.networkOptions,this.networkApi),this.roxyUrl||(this.stateSender=new eM(this.appKey,this.deviceProperties,this.devModeSecret,this.networkOptions,{selfManagedMode:this.selfManagedMode},this.disableSignatureVerification,this.networkApi),this.disableNetwork||(t3=e=new eD(this.appKey,Object.assign({},this.analyticsOptions),ez.DeviceProperties,this.networkOptions,this.networkApi))),ez.getDefaultCustomProperties(this.deviceProperties,this.appKey).map(tu.setIfNotExists.bind(tu))}catch(r){t="Uh oh! An error occurred during setup.",S.error(t,r),null!=(e=te())&&e.error(t,r)}return Promise.resolve(this)}handleOptions(t){var e,r,i,s,n,o=ez.DefaultSetupOptions.platform;let a=Object.assign({},ez.DefaultSetupOptions,t);if(a.selfManaged&&"object"==typeof a.selfManaged){if(!a.selfManaged.analyticsURL)throw Error("analyticsURL is required on self managed mode");if(!a.selfManaged.serverURL)throw Error("serverURL is required on self managed mode");t.selfManaged.configurationURL&&(a.selfManaged.configurationURL=t.selfManaged.configurationURL.endsWith("/")?t.selfManaged.configurationURL:t.selfManaged.configurationURL+"/"),t.selfManaged.stateURL&&(a.selfManaged.stateURL=t.selfManaged.stateURL.endsWith("/")?t.selfManaged.stateURL:t.selfManaged.stateURL+"/"),e=a.selfManaged,Y=Object.assign({},Z(),({analyticsURL:e,serverURL:r,pushUpdateURL:i,configurationURL:s,stateURL:n}=e,{CD_API_ENDPOINT:r+"/device/get_configuration",SS_API_ENDPOINT:r+"/device/update_state_store/",CLIENT_DATA_CACHE_KEY:"client_data",ANALYTICS_ENDPOINT:e,NOTIFICATIONS_ENDPOINT:i+"/sse",CD_S3_ENDPOINT:s,SS_S3_ENDPOINT:n,ERROR_REPORTER:void 0})),t0=!0,this.selfManagedMode=!0}a.configuration&&a.configuration.disableNetwork&&(this.disableNetwork=!0),this.embeddedConfiguration=a.embedded,this.fetchIntervalInSec=a.fetchIntervalInSec,this.disablePushUpdateListener=!!(this.disableNetwork||this.selfManagedMode&&!a.selfManaged.pushUpdateURL)||a.disablePushUpdateListener,this.configurationFetchedHandler=a.configurationFetchedHandler,this.impressionHandler=a.impressionHandler,this.dynamicPropertyRuleHandler=a.dynamicPropertyRuleHandler,this.app_release=a.version,this.distinct_id=a.distinctId,this.devModeSecret=a.devModeSecret,this.platform=a.platform,this.fetchFunction=a.fetchFunction,this.networkApi=a.networkApi,this.networkApi?S.debug("network: using custom"):this.fetchFunction?(S.debug("network: using fetch"),this.networkApi=new eB(this.fetchFunction)):(S.debug("network: using axios"),this.networkApi=new eU),this.realPlatform=o,this.roxyUrl=a.roxy,this.networkOptions={httpAgent:a.httpAgent,httpsAgent:a.httpsAgent},this.disableSignatureVerification=a.disableSignatureVerification||!1,this.analyticsOptions=a.analytics,this.eventSourceImpl=a.eventSourceImpl,t5=o=this.impressionHandler,t.logger&&S.setLogger(t.logger),this.dynamicPropertyRuleHandler&&(tl=o=this.dynamicPropertyRuleHandler)&&(tl._isUserDefined=!0)}fetchPeriodically(){if(!this.app_key)return S.warn("no app key"),Promise.reject();if(this.fetchIntervalInSec<=0)return Promise.resolve();this.fetchIntervalInSec<30&&(this.fetchIntervalInSec=30);var t=this._fetch({useCache:!1});return this.configurationFetcher.dispatchPeriodically({handler:this.onConfigurationFetched,periodTimeInSec:this.fetchIntervalInSec}),t}fetchCacheOnly(){return this._fetch({useCache:!0,skipNetwork:!0})}fetchWithCacheAndProceed(){return this._fetch({useCache:!0})}fetch(){return this._fetch({useCache:!1})}_fetchFromPush(){return this._fetch({useCache:!1,source:"push"})}sendState(){this._sendState()}_sendState(){this.sendStateDebounceNoCheck.cancel(),this.app_key&&(this.disableNetwork?S.debug("send state - disabled network"):this.stateSender&&this.stateSender.send())}_fetch(t={}){if(this.app_key){if(this.configurationFetcher)return this.disableNetwork&&(S.debug("fetch - disabling network"),t.skipNetwork=!0),this.configurationFetcher.dispatch({handler:this.onConfigurationFetched,options:t})}else S.warn("no app key")}register(t,e){void 0===e&&"object"==typeof t&&null!==t&&(e=t,t=""),S.debug(`Registering container '${t}' = `+JSON.stringify(e)),this.classRegisterer.handleContainer(t,e),this.sendStateDebounced()}setSemverCustomProperty(t,e){this.setCustomProperty(t,eN.semverTypeName,e)}setCustomProperty(t,e,r){t=new eN(t,e,r),e=!tu.has(t),tu.set(t),e&&this.sendStateDebounced()}unfreeze(t,e){tn.flags.filter(e=>{if(!e.name||"string"!=typeof t)return!0;let r=e.name.split(".");return 1===r.length&&""===t||r.slice(0,r.length-1).join(".")===t}).forEach(t=>{t.unfreeze(e)})}get metadata(){let t=new tX;return{targetGroups:ta.targetGroups.map(e=>({name:e.name,isEnabled:t.evaluateExpression(e.condition)})),experiments:ts.experiments.map(e=>({name:e.name,isEnabled:"true"===t.evaluateExpression(e.deploymentConfiguration.condition)})),flags:tn.flags.map(t=>({name:t.name,value:t._peek()}))}}onConfigurationFetched(t){try{t.fetcherStatus!==e_&&this.startOrStopPushUpdatesListener()}catch(t){S.warn("Cound not start or stop push notification listener. exception: "+t)}if(this.configurationFetchedHandler instanceof Function)try{return this.configurationFetchedHandler(t)}catch(t){tc.invoke("CONFIGURATION_FETCHED_HANDLER",t)}}startOrStopPushUpdatesListener(){!this.disablePushUpdateListener&&t2("rox.internal.pushUpdates")?this.app_key&&!this.pushUpdatesListener&&(this.pushUpdatesListener=new eC(Q("NOTIFICATIONS_ENDPOINT"),this.app_key,this.eventSourceImpl,this.networkOptions),this.pushUpdatesListener.on("changed",()=>{this._fetchFromPush()})):this.pushUpdatesListener&&(this.pushUpdatesListener.stop(),this.pushUpdatesListener=null)}setUserspaceUnhandledErrorHandler(t){tc.setHandler(t)}get cacheURL(){if(this.configurationFetcher&&this.configurationFetcher.cacheURL)return this.configurationFetcher.cacheURL;throw Error("Rox was not initialized. Please call setup() before calling cacheURL()")}};T=s(737);var eH=s.n(T);let eK=new class{set(t,e,r){eH().set(t,e,r)}get(t){return eH().get(t)}},{api_version:eq,lib_version:e$}=(O=s(953),{api_version:"1.9.0",lib_version:"6.0.1"}),eJ=(E=new class extends class{constructor(t,e){this.cache=t,this._uuid=e,this.distinct_id=this.generateDistinctId(),this.app_release="0.0",this.distinctIdSetExplicitly=!1}setPlatform(t){this.platform=t}setRealPlatform(t){this.realPlatform=t}setDistinctId(t){this.distinctIdSetExplicitly=!0,this.distinct_id=t}setAppRelease(t){this.app_release=t}uuid(){return this._uuid()}generateDistinctId(){let t=this.cache.get("distinctId");return t||(t=this.uuid(),this.cache.set("distinctId",t)),t}}{getProperties(){var{distinct_id:t,app_release:e,platform:r,realPlatform:i}=this;return Object.assign({app_release:e,api_version:eq,lib_version:e$,distinct_id:t,platform:r,realPlatform:i,customSigningCertificate:"5659eb0ca47811395ef85f0b09be63b7",language:navigator.language,anticache:+Date.now()},"undefined"==typeof window?{}:{screen_width:window.screen.width,screen_height:window.screen.height})}}(eK,s.n(O)()),m.CustomProperty);T=s(345);var eW=s.n(T),eG=(O=s(93),s.n(O));T=new class{constructor(){this.verifier=new(eW())(void 0),this.verifier.getKey().setPublic("eaf0631114bc9a4150c475c1e5626ecd9c6ac0aa12cfd84ff6ed6db5c9341e8a7eebf05393ffb8c9d0f2e97062f0ff7cc34f9c33209dceb45cb81d6adeda19fbc26b7e6c8f9b6d2ffd90aae6aa4a63023d7e3f09c1e2584469ddbb96894c0aecf9a6eaea8b6d3d93bab9d4831d7ead3f3adecffc19a9f8b04db361788ccb0f6316545189154c098faa09f0c6e5a82596a7fce18d8ed8fd38683c78e70e7dccb10b818347f61a8a5fa486de08fc71deb125d5ba4a979edb1b7609d7285917ebcd93b853dcde977c972fba37a3925a96cd57c526115672827c564f7bf1053d935af15ec5b5b9d8a38563dd702248edf883c430f2413cf0e237d2769eeb6dbdf329","10001")}verify(t,e){return this.verifier.verify(t,e,eG())}};let eZ={};function eY(t){eZ=t}let eQ={freezeOptionNone:"none",freezeOptionUntilLaunch:"untilLaunch"},eX=null;function e0(t){return Object.keys(eQ).find(function(e){return eQ[e]===t})}let e1=eQ.freezeOptionNone,e2="roxOverrideValues",e6=eK.get(e2);function e5(t){eK.set(e2,JSON.stringify(t))}function e3(t,e){if(!t)throw Error("Missing name");e6[t]=e,e5(e6)}function e4(t){if(!t)throw Error("Missing name");e6[t]=void 0,delete e6[t],e5(e6)}function e8(){e5(e6={})}e6=e6?JSON.parse(e6):{};let{CallContextTypes:e7,FlagTypes:e9}=m,rt=new y.RoxxParser;class re extends t7{constructor(t,e,{freeze:r}={},i=e9.string){if(super(t,e,i),r&&!e0(r))throw Error("Freeze option is invalid "+r);this._localFreeze=r,this._lastResultExplanation={}}unfreeze(){this._frozen=!1}setLastResultToExperiment(t,e){this._lastResultExplanation={value:t,from:"experiment",payload:{condition:this.condition,expressionEvaluation:e}}}setLastResultToDefault(t){this.condition?this._lastResultExplanation={value:t,from:"exception",payload:{condition:this.condition}}:this._lastResultExplanation={value:t,from:"default"}}setLastResultToFreeze(){this._lastResultExplanation={value:this._value,from:"freeze",payload:{freezedBy:"freeze"===this._lastResultExplanation.from?this._lastResultExplanation.payload.freezedBy:this._lastResultExplanation}}}calculateCondition(t,e){let r={isExperimenting:!1,value:null!=t.alternativeDefaultValue?t.alternativeDefaultValue:this._defaultValue,usedContext:e};var i=[];if(this.condition){var s=eZ;e=e?Object.assign({},s,e):Object.assign({},s),r.usedContext=e;let n=rt.evaluateExpression(this.condition,t,e,i);void 0!==(n=n&&n.toString?n.toString():n)&&(r.isExperimenting=!0,r.value=n)}t.isPeek||(r.isExperimenting?this.setLastResultToExperiment(r.value,i):this.setLastResultToDefault(r.value)),t.result=r}getOneTimeValue(t,e){this.calculateCondition(t,e)}getFreezedValue(t){t.isPeek||this.setLastResultToFreeze(),t.result={value:this._value,isFreezed:!0,isExperimenting:this._isExperimenting}}getActiveValue(t,e){if(this._freeze!==eQ.freezeOptionNone)return t.type===e7.frozenOrCalc?this._frozen?void this.getFreezedValue(t):void this.getOneTimeValue(t,e):t.type!==e7.oneTimeCalc?t.type&&t.type!==e7.default||this._frozen?void this.getFreezedValue(t):(this.calculateCondition(t,e),this.setValue(t.result),this._frozen=!0,t.result.isExperimenting=this._isExperimenting,void(t.result.value=this._value)):void this.getOneTimeValue(t,e);this.getOneTimeValue(t,e)}getInternalValue(t,e){var r=this.overridenValue;if(r)return t.result={isExperimenting:!0,isOverride:!0,usedContext:e,value:r},void(this._lastResultExplanation={value:r,from:"override"});this.getActiveValue(t,e)}getValue(t){var e={result:void 0,isOverride:void 0};return this.getInternalValue(e,t),e.result.isFreezed||e.isOverride||this._flagImpression(e.result.value,t),e.result.value}setValue(t){this._frozen||(this._isExperimenting=t.isExperimenting,this._value=t.value)}explainLastResult(){return this._lastResultExplanation}peek(t){var e={isPeek:!0,type:e7.oneTimeCalc,result:void 0};return this.getInternalValue(e,t),e.result.value}get _freeze(){return this._localFreeze||eX||e1}get overrider(){return v}}let{FlagTypes:rr,RoxStringBase:ri}=m;class rs extends re{constructor(t,e,r){super(t,e,r,rr.number)}getValue(t){var e={};this.getInternalValue(e,t);let r=ri._normalizeNumber(e.result.value);return e.result.isOverride||e.result.isFreezed||this._flagImpression(r.toString(),e.result.usedContext),r}}class rn extends re{constructor(t=!1,e){super(t,[!1,!0],e,t8.boolean)}isEnabled(t){var e={result:void 0};this.getInternalValue(e,t);let r=t7._normalizeBoolean(e.result.value);return e.result.isOverride||e.result.isFreezed||this._flagImpression(r.toString(),e.result.usedContext),r}}function ro(...t){return function(e){for(let r=t.length-1;-1<r;r--)e=t[r].call(this,e);return e}}y={DeviceProperties:E,getDefaultCustomProperties:function(t,e){return t=t.getProperties(),[new eJ("rox.app_release",eJ.semverTypeName,t.app_release),new eJ("rox.platform",String,t.platform),new eJ("rox.screen_width",Number,t.screen_width),new eJ("rox.screen_height",Number,t.screen_height),new eJ("rox.language",String,t.language),new eJ("rox.distinct_id",String,t.distinct_id),new eJ("rox.internal.realPlatform",String,"Browser"),new eJ("rox.internal.customPlatform",String,t.platform),new eJ("rox.internal.appKey",String,e),new eJ("rox.internal.distinct_id",String,t.distinct_id),new eJ("rox.now",Date,()=>new Date)]},DefaultSetupOptions:{distinctId:null,version:"0",configurationFetchedHandler:function(){},impressionHandler:null,devModeSecret:null,platform:"Browser",analytics:{flushAt:20,flushInterval:1e3}},RoxCache:eK,RoxCrypto:T,EntitiesProvider:O=new class{createFlag(t){return new rn(t)}createString(t,e){return new re(t,e)}createNumber(t,e){return new rs(t,e)}}},ez=Object.assign({},ez,y),eL._dynamicApi=new class{constructor(t,e,r){this.entityProvider=t,this.flagRepository=e,this.client=r}genericValue(t,e,r,i,s=t8.string,n=this.entityProvider.createString,o=t7._normalizeString){if("string"!=typeof t)throw Error("DynamicApi error - name must be a string");if(typeof e!==s)throw Error(`DynamicApi default value must be of ${s} type. Received '${e}'`);let a=this.flagRepository.flagWithName(t);a||(a=n(e,r),this.flagRepository.addFlag(t,a),this.client.sendStateDebounced()),s={alternativeDefaultValue:e.toString()},a.getInternalValue(s,i);let u=o(s.result.value);return s.result.isFreezed||s.result.isOverride||a._flagImpression(u.toString(),s.result.usedContext),u}isEnabled(t,e,r){return this.genericValue(t,e,null,r,t8.boolean,this.entityProvider.createFlag,t7._normalizeBoolean)}value(t,e,r,i){return Array.isArray(r)||(i=r,r=null),this.genericValue(t,e,r,i)}getNumber(t,e,r,i){return Array.isArray(r)||(i=r,r=null),this.genericValue(t,e,r,i,t8.number,this.entityProvider.createNumber,t7._normalizeNumber)}}(y.EntitiesProvider,tn,eL);let ra=(t={})=>Object.keys(t).map(e=>e+": "+t[e]).join(";"),ru=t=>e=>(e.setAttribute("class",t),e),rh=(t,e,r)=>(t.addEventListener(e,r),t),rl=(t,e)=>rh(t,"click",e);r=n=o=a=u,h=()=>{},"undefined"!=typeof window&&"undefined"!=typeof document&&(r=(t,e=[])=>e.reduce((t,e)=>(!e||t.appendChild(e))&&t,t),n=(t="div",e="")=>{let r=document.createElement(t);return r.textContent=e,r},o=(t="div",e={})=>{let r=document.createElement(t);return Object.keys(e).forEach(t=>r.setAttribute(t,e[t])),r},a=(t="div",e=[])=>r(document.createElement(t),e),u=n.bind(document,"div"),h=(t=[])=>a("div",t));let rc=b.Flags,rp="Original",rf="bottom right",rd={"top left":{top:0,left:0},"top right":{top:0,right:0},"bottom left":{bottom:0,left:0},"bottom right":{bottom:0,right:0}},rg={background:"inherit","z-index":999999,position:"fixed",width:"400px",height:"600px",overflow:"auto"},rm=({value:t,text:e,selected:r})=>{let i=document.createElement("option");return r&&i.setAttribute("selected",!0),i.setAttribute("value",t),i.textContent=e,i},ry=({originalValue:t,overridingValue:e,option:r})=>e?e===r:t===r,rv=t=>{var e,r;if(t.type===t8.boolean)return[{options:i,originalValue:e,overridingValue:r}={options:[]}]=[t],i.map(t=>({text:t===e?rp+` (${t})`:t,value:t,selected:ry({originalValue:e,overridingValue:r,option:t})}));{var[{options:i,originalValue:s,overridingValue:n}={options:[]}]=[t];let e=i.map(t=>({text:t===s?rp+` (${t})`:t,value:t,selected:ry({originalValue:s,overridingValue:n,option:t})}));return e.find(t=>t.value===n)||"string"==typeof n&&e.push({text:n,value:n,selected:ry({originalValue:s,overridingValue:n,option:n})}),e.find(t=>t.value===s)||"string"==typeof s&&e.push({text:rp+` (${s})`,value:s,selected:ry({originalValue:s,overridingValue:n,option:s})}),e.push({text:"Add New Value...",value:"freeText"}),e}},rb=t=>((t,e="")=>(t.setAttribute("style",e),t))(t,ra(rg)+";"+ra(rd[c])),r_=({name:t,originalValue:e,overridingValue:r})=>h([u(t),r?ro(ru("roxFlagSub"),u)("Original value: "+e):void 0]),rx=t=>{var{name:e,nameDetails:r,originalValue:i,overridingValue:s}=t;return ro(ru("roxPushAside roxFlag"),h)([r_({name:r.name,originalValue:i,overridingValue:s}),rO(e,i,rv(t))])},rw=({target:t,keyCode:e})=>{p=27===e?(t.value="",null):t.value,rE()},rS=()=>(e8(),rE()),rO=(t,e,r=[])=>rh(a("select",r.map(rm)),"change",r=>{var i="freeText"===(i=r.target.value)?prompt("Please enter a custom value","value"):i;r.preventDefault(),e===i?e4(t):e3(t,i),rE()}),rT=()=>{let t;return ro(ru("roxFlags"),h)(Object.keys(t=rc.items.map(t=>t.dump()).filter(t=>!p||-1!==t.name.toLowerCase().indexOf(p.toLowerCase())).reduce((t,e)=>(t[e.nameDetails.namespace]||(t[e.nameDetails.namespace]=[]),t[e.nameDetails.namespace].push(e),t),{})).map(((t,e)=>h([ro(ru("roxNamespace"),u)(e),ro(ru("roxFlagsList"),h)(t[e].map(rx))])).bind(null,t)))};function rE(){l.removeChild(f),f=rT(),l.appendChild(f)}function rN(t=rf){if(!l){-1===Object.keys(rd).indexOf(t)&&(t=rf),c=t,f=rT(),l=ro(ru("roxDbg"),rb,h)([h([ro(ru("roxPushAside roxTitle"),h)([n("span","ROX Overrides"),rl(n("a",""),rP)]),ro(ru("roxSearch roxPushAside"),h)([rh(t=o("input",{placeholder:"Search Flags"}),"keyup",rw),rl(n("a","Reset All Overrides"),rS)])]),f]);let e=document.getElementsByTagName("body")[0];e.appendChild(o("link",{href:"https://fonts.googleapis.com/css?family=Lato",rel:"stylesheet"})),e.appendChild(o("link",{href:"https://connect.rollout.io/rox.browser.css",rel:"stylesheet"})),e.appendChild(l),rE()}}function rP(){document.getElementsByTagName("body")[0].removeChild(l),l=void 0}let rA=new class{constructor(){this.RoxString=re,this.RoxNumber=rs,this.setContext=eY,this.Flag=rn,this.showOverrides=rN,this.overrides=v}setup(t,e={}){if(S.setVerboseMode(e.debugLevel),e.proxy&&(G=new J(e.proxy)),e.freeze){var r=e.freeze;if(!e0(r))throw Error("Invalid freeze option: "+r);eX=r}return eL.setKey(t,e),e.configuration?Y=Object.assign({},e.configuration):e.hosting&&tt(e.hosting),eL.setup(e),eL.sendState(),e.disableNetworkFetch?eL.fetchCacheOnly():eL.fetchWithCacheAndProceed()}fetch(){eL&&eL.fetch()}setCustomStringProperty(t,e){eL.setCustomProperty(t,String,e)}setCustomDateProperty(t,e){eL.setCustomProperty(t,Date,e)}setCustomNumberProperty(t,e){eL.setCustomProperty(t,Number,e)}setCustomBooleanProperty(t,e){eL.setCustomProperty(t,Boolean,e)}setCustomSemverProperty(t,e){eL.setSemverCustomProperty(t,e)}register(t,e){eL.register(t,e)}unfreeze(t){eL.unfreeze(t)}get flags(){return tn.flags}get dynamicApi(){return eL.dynamicApi}setUserspaceUnhandledErrorHandler(t){eL.setUserspaceUnhandledErrorHandler(t)}}})(),i.default;function s(t){var i=r[t];return void 0===i&&(i=r[t]={exports:{}},e[t].call(i.exports,i,i.exports,s)),i.exports}},t.exports=i(r("JEwc"))}}]);
//# sourceMappingURL=6798-ea4d99469112c1da541e.js.map